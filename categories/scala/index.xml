<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>scala on Of Code &amp; Systems</title><link>/categories/scala/</link><description>Recent content in scala on Of Code &amp; Systems</description><generator>Hugo -- gohugo.io</generator><language>ru-RU</language><lastBuildDate>Tue, 22 Sep 2020 18:53:00 +0300</lastBuildDate><atom:link href="/categories/scala/index.xml" rel="self" type="application/rss+xml"/><item><title>Graceful Shutdown в Akka HTTP</title><link>/2020/09/scala-akka-graceful-shutdown/</link><pubDate>Tue, 22 Sep 2020 18:53:00 +0300</pubDate><guid>/2020/09/scala-akka-graceful-shutdown/</guid><description>По-умолчанию, Akka при завершении (в т.ч. получении SIGTERM) запускает процесс Coordinated Shutdown, в рамках которого происходят последовательно несколько фаз:
before-service-unbind service-unbind service-requests-done service-stop before-cluster-shutdown cluster-sharding-shutdown-region cluster-leave cluster-exiting cluster-exiting-done cluster-shutdown before-actor-system-terminate actor-system-terminate В каждой фазе выполняются определённые действия и настроен таймаут, который можно переопределить и в течение которого эти действия должны завершиться. Если действия не успевают завершаться, то фаза заканчивается и начинается следующая
В рамках Akka HTTP нас в первую очередь интересуют следующие фазы</description></item></channel></rss>
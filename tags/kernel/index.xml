<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kernel on Of Code &amp; Systems</title><link>https://zzamzam.dev/tags/kernel/</link><description>Recent content in kernel on Of Code &amp; Systems</description><generator>Hugo -- gohugo.io</generator><language>ru-RU</language><lastBuildDate>Mon, 01 May 2017 18:55:07 +0000</lastBuildDate><atom:link href="https://zzamzam.dev/tags/kernel/index.xml" rel="self" type="application/rss+xml"/><item><title>CentOS 7. Kernel panic — not syncing: Fatal machine check on current CPU</title><link>https://zzamzam.dev/2017/05/centos-7-kernel-panic-not-syncing-fatal-machine-check-on-current-cpu/</link><pubDate>Mon, 01 May 2017 18:55:07 +0000</pubDate><guid>https://zzamzam.dev/2017/05/centos-7-kernel-panic-not-syncing-fatal-machine-check-on-current-cpu/</guid><description>&lt;p>
&lt;a href="https://zzamzam.dev/2017/05/centos-7-kernel-panic-not-syncing-fatal-machine-check-on-current-cpu/centos-logo.png">&lt;img style="max-width: 100%; width: auto; height: auto; display: block; margin: 0 auto;" src="https://zzamzam.dev/2017/05/centos-7-kernel-panic-not-syncing-fatal-machine-check-on-current-cpu/centos-logo_hu440f0f84b6e1c5de8db308e67a2d7711_7656_320x0_resize_box_3.png" width="320" height="168">&lt;/a>
&lt;/p>
&lt;p>&lt;strong>Провайдер услуг&lt;/strong>: ovh&lt;/p>
&lt;p>&lt;strong>Проц&lt;/strong>: Intel Xeon D-1521&lt;/p>
&lt;p>&lt;strong>ОС&lt;/strong>: CentOS 7.3&lt;/p>
&lt;p>&lt;strong>Ядро&lt;/strong>: 3.14 кастомное от ovh&lt;/p>
&lt;p>Дело было на майских праздниках. Клиент, держащий сервис, написанный на php и использующий mysql как бд, попросил посмотреть, почему сервер внезапно перестаёт отвечать.&lt;/p>
&lt;p>Предположили, что дело может быть в высокой нагрузке и отваливается сеть. Но нет, нагрузка так себе, на интерфейсе максимум 300 pps, трафик низкий, память не кушается, проц процентов на 40% загружен. В процессе выяснилось, что сервер не только перестаёт отвечать, но и сам перезагружается.&lt;/p>
&lt;p>Ага! Настраиваем kdump. kdump не запускается на кастомном ядре 3.14 ovh. Ставим ванильное из родных реп&lt;/p></description></item></channel></rss>